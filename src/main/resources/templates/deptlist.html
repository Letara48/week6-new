<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>Title</title>
</head>
<body>
<a href="/">Home</a><br/>
<a href="/employeelist">Employee list</a><br/>
<h1>Department List</h1><a href="/adddept">Add Departments</a><br/><a href="/addEmployee">Add Employees</a></br>
<table>
    <tr>
        <th>Title</th>
        <th>Year</th>
    </tr>
    <tr th:each="department : ${departments}">
        <td th:text="${department.title}"></td>
        <td>
            <a th:href="@{/updateDepartment/{id}(id=${department.deptid})}">Update</a>
            <a th:href="@{/detailDepartment/{id}(id=${department.deptid})}">Details</a>
            <a th:href="@{/deleteDepartment/{id}(id=${department.deptid})}">Delete</a>
        </td></tr>
</table>

<div th:each="department:${departments}">
    <h2 th:text="${department.title}"></h2>
    <ul>
        <th:block th:each="employee :${department.employees}">
            <li th:inline="text">[[${employee.name}]] does [[${employee.job_title}]]</li>
        </th:block>
    </ul>


</div>
</body>
</html>